{
  "namespaces": {
    "mdb": "http://standards.iso.org/iso/19115/-3/mdb/1.0",
    "xsi": "http://www.w3.org/2001/XMLSchema-instance",
    "cat": "http://standards.iso.org/iso/19115/-3/cat/1.0",
    "gfc": "http://standards.iso.org/iso/19110/gfc/1.1",
    "cit": "http://standards.iso.org/iso/19115/-3/cit/1.0",
    "gcx": "http://standards.iso.org/iso/19115/-3/gcx/1.0",
    "gex": "http://standards.iso.org/iso/19115/-3/gex/1.0",
    "lan": "http://standards.iso.org/iso/19115/-3/lan/1.0",
    "srv": "http://standards.iso.org/iso/19115/-3/srv/2.0",
    "mas": "http://standards.iso.org/iso/19115/-3/mas/1.0",
    "mcc": "http://standards.iso.org/iso/19115/-3/mcc/1.0",
    "mco": "http://standards.iso.org/iso/19115/-3/mco/1.0",
    "mda": "http://standards.iso.org/iso/19115/-3/mda/1.0",
    "mds": "http://standards.iso.org/iso/19115/-3/mds/1.0",
    "mdt": "http://standards.iso.org/iso/19115/-3/mdt/1.0",
    "mex": "http://standards.iso.org/iso/19115/-3/mex/1.0",
    "mmi": "http://standards.iso.org/iso/19115/-3/mmi/1.0",
    "mpc": "http://standards.iso.org/iso/19115/-3/mpc/1.0",
    "mrc": "http://standards.iso.org/iso/19115/-3/mrc/1.0",
    "mrd": "http://standards.iso.org/iso/19115/-3/mrd/1.0",
    "mri": "http://standards.iso.org/iso/19115/-3/mri/1.0",
    "mrl": "http://standards.iso.org/iso/19115/-3/mrl/1.0",
    "mrs": "http://standards.iso.org/iso/19115/-3/mrs/1.0",
    "msr": "http://standards.iso.org/iso/19115/-3/msr/1.0",
    "mdq": "http://standards.iso.org/iso/19157/-2/mdq/1.0",
    "mac": "http://standards.iso.org/iso/19115/-3/mac/1.0",
    "gco": "http://standards.iso.org/iso/19115/-3/gco/1.0",
    "gml": "http://www.opengis.net/gml/3.2",
    "xlink": "http://www.w3.org/1999/xlink"
  },
  "xpath": "/mdb:MD_Metadata",
  "type": "object",
  "properties": {
    "distributionInfo": {
      "xpath": "mdb:distributionInfo/mrd:MD_Distribution",
      "type": "object",
      "properties": {
        "distributionFormat": {
          "xpath": "mrd:distributionFormat/mrd:MD_Format/mrd:formatSpecificationCitation/cit:CI_Citation",
          "type": "object",
          "properties": {
            "name": {
              "xpath": "cit:title",
              "valueChild": "gco:CharacterString",
              "deleteWhenEmpty": false,
              "type": "string",
              "rules": {
                "maxLength": 100
              }
            },
            "version": {
              "xpath": "cit:edition",
              "valueChild": "gco:CharacterString",
              "type": "string",
              "rules": {
                "maxLength": 20
              }
            }
          }
        }
      }
    },
    "identificationInfo": {
      "xpath": "mdb:identificationInfo/mri:MD_DataIdentification",
      "type": "object",
      "rules": {
        "dateOrder": {
          "prop0": "beginPosition",
          "prop1": "endPosition"
        }
      },
      "properties": {
        "title": {
          "xpath": "mri:citation/cit:CI_Citation/cit:title",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "rules": {
            "required": true,
            "maxLength": 250
          }
        },
        "dateCreation": {
          "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"creation\"]]/cit:date",
          "valueChild": "gco:DateTime",
          "default": {
            "function": "today"
          },
          "type": "string",
          "rules": {
            "required": true
          }
        },
        "abstract": {
          "xpath": "mri:abstract",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "required": true,
          "type": "string",
          "rules": {
            "required": true,
            "maxLength": 2500
          }
        },
        "beginPosition": {
          "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:beginPosition",
          "required": true,
          "keep": false,
          "attributes": {
            "text": {
              "function": "date_as_string"
            }
          },
          "type": "string",
          "rules": {
            "required": true
          }
        },
        "endPosition": {
          "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:endPosition",
          "deleteWhenEmpty": false,
          "keep": false,
          "attributes": {
            "text": {
              "function": "date_as_string"
            }
          },
          "type": "string",
          "rules": {
            "required": true
          }
        },
        "purpose": {
          "xpath": "mri:purpose",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "required": false,
          "type": "string",
          "rules": {
            "required": true,
            "maxLength": 1000
          }
        },
        "geographicElement": {
          "xpath": "mri:extent/gex:EX_Extent[gex:geographicElement][gex:temporalElement]",
          "removeWhen": {
            "function": "has_geographic_coverage"
          },
          "type": "object",
          "properties": {
            "siteDescription": {
              "xpath": "gex:description",
              "valueChild": "gco:CharacterString",
              "keep": false,
              "type": "string"
            },
            "hasGeographicCoverage": {
              "xpath": "gex:geographicElement[count(.)>0]",
              "export": false,
              "type": "boolean"
            },
            "boxes": {
              "xpath": "gex:geographicElement/gex:EX_GeographicBoundingBox",
              "required": true,
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "westBoundLongitude": {
                    "valueChild": "gco:Decimal",
                    "xpath": "gex:westBoundLongitude",
                    "required": true,
                    "attributes": {
                      "text": {
                        "function": "to_string"
                      }
                    },
                    "type": "number"
                  },
                  "eastBoundLongitude": {
                    "valueChild": "gco:Decimal",
                    "xpath": "gex:eastBoundLongitude",
                    "required": true,
                    "attributes": {
                      "text": {
                        "function": "to_string"
                      }
                    },
                    "type": "number"
                  },
                  "southBoundLatitude": {
                    "valueChild": "gco:Decimal",
                    "xpath": "gex:southBoundLatitude",
                    "required": true,
                    "attributes": {
                      "text": {
                        "function": "to_string"
                      }
                    },
                    "type": "number"
                  },
                  "northBoundLatitude": {
                    "valueChild": "gco:Decimal",
                    "xpath": "gex:northBoundLatitude",
                    "required": true,
                    "attributes": {
                      "text": {
                        "function": "to_string"
                      }
                    },
                    "type": "number"
                  }
                }
              }
            }
          }
        }
      }
    },
    "dataQualityInfo": {
      "xpath": "mdb:dataQualityInfo",
      "type": "object",
      "properties": {
        "methods": {
          "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:standaloneQualityReportDetails",
          "keep": false,
          "valueChild": "gco:CharacterString",
          "required": false,
          "type": "string"
        },
        "results": {
          "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:result/mdq:DQ_DescriptiveResult/mdq:statement/gco:CharacterString",
          "keep": false,
          "required": false,
          "type": "string",
          "rules": {
            "maxLength": 1000
          }
        }
      }
    },
    "resourceLineage": {
      "xpath": "mdb:identificationInfo/mri:MD_DataIdentification",
      "type": "object",
      "properties": {
        "lineage": {
          "xpath": "mrl:statement",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "type": "string",
          "rules": {
            "maxLength": 1000
          }
        }
      }
    }
  }
}
