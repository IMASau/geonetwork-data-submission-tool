{
  "namespaces": {
    "mdb": "http://standards.iso.org/iso/19115/-3/mdb/2.0",
    "xsi": "http://www.w3.org/2001/XMLSchema-instance",
    "cat": "http://standards.iso.org/iso/19115/-3/cat/1.0",
    "gfc": "http://standards.iso.org/iso/19110/gfc/1.1",
    "cit": "http://standards.iso.org/iso/19115/-3/cit/2.0",
    "gcx": "http://standards.iso.org/iso/19115/-3/gcx/1.0",
    "gex": "http://standards.iso.org/iso/19115/-3/gex/1.0",
    "lan": "http://standards.iso.org/iso/19115/-3/lan/1.0",
    "srv": "http://standards.iso.org/iso/19115/-3/srv/2.1",
    "mas": "http://standards.iso.org/iso/19115/-3/mas/1.0",
    "mcc": "http://standards.iso.org/iso/19115/-3/mcc/1.0",
    "mco": "http://standards.iso.org/iso/19115/-3/mco/1.0",
    "mda": "http://standards.iso.org/iso/19115/-3/mda/1.0",
    "mds": "http://standards.iso.org/iso/19115/-3/mds/2.0",
    "mdt": "http://standards.iso.org/iso/19115/-3/mdt/2.0",
    "mex": "http://standards.iso.org/iso/19115/-3/mex/1.0",
    "mmi": "http://standards.iso.org/iso/19115/-3/mmi/1.0",
    "mpc": "http://standards.iso.org/iso/19115/-3/mpc/1.0",
    "mrc": "http://standards.iso.org/iso/19115/-3/mrc/2.0",
    "mrd": "http://standards.iso.org/iso/19115/-3/mrd/1.0",
    "mri": "http://standards.iso.org/iso/19115/-3/mri/1.0",
    "mrl": "http://standards.iso.org/iso/19115/-3/mrl/2.0",
    "mrs": "http://standards.iso.org/iso/19115/-3/mrs/1.0",
    "msr": "http://standards.iso.org/iso/19115/-3/msr/2.0",
    "mdq": "http://standards.iso.org/iso/19157/-2/mdq/1.0",
    "mac": "http://standards.iso.org/iso/19115/-3/mac/2.0",
    "gco": "http://standards.iso.org/iso/19115/-3/gco/1.0",
    "gml": "http://www.opengis.net/gml/3.2",
    "xlink": "http://www.w3.org/1999/xlink"
  },
  "xpath": "/mdb:MD_Metadata",
  "postprocess": {
    "function": "prune_if_empty"
  },
  "type": "object",
  "properties": {
    "fileIdentifier": {
      "xpath": "mdb:metadataIdentifier/mcc:MD_Identifier/mcc:code",
      "valueChild": "gco:CharacterString",
      "keep": false,
      "exportTo": {
        "xpath": "mdb:metadataLinkage/cit:CI_OnlineResource/cit:linkage/gco:CharacterString",
        "attributes": {
          "text": {
            "function": "geonetwork_url"
          }
        }
      }
    },
    "identificationInfo": {
      "xpath": "mdb:identificationInfo/mri:MD_DataIdentification",
      "rules": [
        "maintFreq",
        {
          "endPosition": {
          "dep-path": ["extents", "endPosition"],
          "val-path": ["status"]
          }
        },
        {
          "stringConcat": {
            "from-array": "supplementalInformation",
            "to": "supplementalInformationExport"
          }
        },
        "otherConstraintsLogic"
      ],
      "type": "object",
      "properties": {
        "title": {
          "!docstring": "ID1",
          "xpath": "mri:citation/cit:CI_Citation/cit:title",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false,
          "xpath_required": true,
          "rules": [
            "requiredField"
          ]
        },
        "topicCategories": {
          "!docstring": "ID3",
          "xpath": "mri:topicCategory",
          "type": "array",
          "keep": false,
          "items": {
            "type": "object",
            "xpath": "mri:topicCategory",
            "properties": {
              "label": {
                "type": "string"
              },
              "value": {
                "type": "string",
                "xpath": "mri:MD_TopicCategoryCode"
              }
            }
          },
          "rules": [
            "requiredField"
          ]
        },
        "status": {
          "!docstring": "ID4",
          "xpath": "mri:status",
          "valueChild": "mcc:MD_ProgressCode",
          "attributes": {
            "text": {
              "function": "identity"
            },
            "codeListValue": {
              "function": "identity"
            }
          },
          "keep": false,
          "rules": [
            "requiredField"
          ]
        },
        "maintenanceAndUpdateFrequency": {
          "!docstring": "ID5",
          "xpath": "mri:resourceMaintenance/mmi:MD_MaintenanceInformation/mmi:maintenanceAndUpdateFrequency",
          "valueChild": "mmi:MD_MaintenanceFrequencyCode",
          "attributes": {
            "codeListValue": {
              "function": "identity"
            }
          }
        },
        "dateCreation": {
          "!docstring": "ID2",
          "type": "string",
          "xpath": "/mdb:MD_Metadata/mdb:dateInfo/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"creation\"]]/cit:date/gco:DateTime",
          "xpath-q1": "/mdb:MD_Metadata/mdb:dateInfo/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"creation\"]]/cit:date/gco:Date",
          "xpath_required": true,
          "keep": false,
          "rules": [
            "requiredField"
          ]
        },
        "datePublication": {
          "!docstring": "ID8 -- populated by backend",
          "type": "string",
          "xpath": "mri:citation/cit:CI_Citation/cit:date[cit:CI_Date/cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"publication\"]]",
          "valueChild": "cit:CI_Date/cit:date/gco:DateTime",
          "keep": false
        },
        "dateRevision": {
          "type": "string",
          "xpath": "/mdb:MD_Metadata/mdb:dateInfo/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"revision\"]]/cit:date/gco:DateTime",
          "xpath-q1": "/mdb:MD_Metadata/mdb:dateInfo/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"revision\"]]/cit:date/gco:Date",
          "xpath_required": true,
          "keep": false,
          "rules": [
            "requiredField"
          ]
        },
        "abstract": {
          "!docstring": "What1",
          "xpath": "mri:abstract",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false,
          "xpath_required": true,
          "rules": [
            "requiredField"
          ]
        },
        "citedResponsibleParty": {
          "!docstring": "Who tab: Responsible for the creation of the dataset",
          "xpath": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty/cit:CI_Responsibility[cit:role/cit:CI_RoleCode[not(@codeListValue=\"resourceProvider\")]]",
          "container": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty[cit:CI_Responsibility/cit:role/cit:CI_RoleCode[not(@codeListValue=\"resourceProvider\")]]",
          "keep": false,
          "type": "array",
          "rules": [
            "requiredField"
          ],
          "items": {
            "xpath": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty/cit:CI_Responsibility[cit:role/cit:CI_RoleCode[not(@codeListValue=\"resourceProvider\")]]",
            "type": "object",
            "properties": {
              "role": {
                "$ref": "#/$defs/role"
              },
              "organisation": {
                "$ref": "#/$defs/organisation"
              },
              "contact": {
                "$ref": "#/$defs/contact"
              },
              "uri": {},
              "isUserDefined": {
                "!docstring": "Fake node so we can track person status",
                "default": false,
                "export": false
              }
            }
          },
          "notes": "Responsible party/ies for creating dataset"
        },
        "extents": {
          "xpath": "mri:extent/gex:EX_Extent",
          "type": "object",
          "rules": [
            "geographyRequired",
            "imasVerticalRequired",
            {
              "dateOrder": {
                "field0": "beginPosition",
                "field1": "endPosition"
              }
            }
          ],
          "properties": {
            "hasGeographicCoverage": {
              "!docstring": "Where1",
              "export": false,
              "type": "boolean"
            },
            "geographicElement": {
              "!docstring": "Where2",
              "xpath": "gex:geographicElement",
              "keep": false,
              "type": "array",
              "items": {
                "xpath": "gex:geographicElement",
                "type": "object",
                "properties": {
                  "uri": {},
                  "isUserDefined": {},
                  "westBoundLongitude": {
                    "xpath": "gex:EX_GeographicBoundingBox/gex:westBoundLongitude/gco:Decimal",
                    "rules": [
                      "requiredField"
                    ],
                    "type": "number"
                  },
                  "eastBoundLongitude": {
                    "xpath": "gex:EX_GeographicBoundingBox/gex:eastBoundLongitude/gco:Decimal",
                    "rules": [
                      "requiredField"
                    ],
                    "type": "number"
                  },
                  "southBoundLatitude": {
                    "xpath": "gex:EX_GeographicBoundingBox/gex:southBoundLatitude/gco:Decimal",
                    "rules": [
                      "requiredField"
                    ],
                    "type": "number"
                  },
                  "northBoundLatitude": {
                    "xpath": "gex:EX_GeographicBoundingBox/gex:northBoundLatitude/gco:Decimal",
                    "rules": [
                      "requiredField"
                    ],
                    "type": "number"
                  }
                }
              }
            },
            "hasVerticalExtent": {
              "!docstring": "Where3",
              "export": false,
              "type": "boolean"
            },
            "verticalElement": {
              "xpath": "gex:verticalElement",
              "type": "object",
              "rules": [
                {
                  "numericOrder": {
                    "field-min": "minimumValue",
                    "field-max": "maximumValue"
                  }
                }
              ],
              "properties": {
                "verticalCRS": {
                  "!docstring": "Where4",
                  "xpath": "gex:EX_VerticalExtent/gex:verticalCRS/gml:VerticalCRS",
                  "type": "object",
                  "keep": false,
                  "properties": {
                    "identifier": {
                      "xpath": "gml:identifier",
                      "type": "string"
                    },
                    "name": {
                      "xpath": "gml:name",
                      "type": "string"
                    },
                    "label": {
                      "type": "string"
                    }
                  }
                },
                "minimumValue": {
                  "!docstring": "Where5",
                  "type": "number",
                  "xpath": "gex:EX_VerticalExtent/gex:minimumValue/gco:Real",
                  "keep": false,
                  "rules": [
                    "positive"
                  ]
                },
                "maximumValue": {
                  "!docstring": "Where6",
                  "type": "number",
                  "xpath": "gex:EX_VerticalExtent/gex:maximumValue",
                  "valueChild": "gco:Real",
                  "keep": false,
                  "rules": [
                    "positive"
                  ]
                }
              }
            },
            "beginPosition": {
              "!docstring": "When1",
              "xpath": "gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:beginPosition",
              "xpath_required": true,
              "keep": false,
              "type": "string",
              "rules": [
                "requiredField"
              ]
            },
            "endPosition": {
              "!docstring": "When2",
              "xpath": "gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:endPosition",
              "deleteWhenEmpty": true,
              "keep": false,
              "type": "string"
            }
          }
        },
        "keywordsTheme": {
          "!docstring": "What2",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][normalize-space(mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor)=\"geonetwork.thesaurus.external.theme.sciencekeywords\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "rules": [{"maxKeywords": {"max-keywords": 12}}],
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "rules": [
                  {
                    "fullLabel": {
                      "breadcrumb": "breadcrumb",
                      "label": "label",
                      "dest": "fullLabel"
                    }
                  }
                ],
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "type": "string"
                  },
                  "fullLabel": {
                    "type": "string",
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "xpath_required": true,
          "rules": [
            "requiredField"
          ]
        },
        "keywordsGeoExtent": {
          "!docstring": "What6",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"place\"]][normalize-space(mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor)=\"geonetwork.thesaurus.external.place.aodn_aodn-geographic-extents-vocabulary\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "rules": [{"maxKeywords": {"max-keywords": 12}}],
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "rules": [
                  {
                    "fullLabel": {
                      "breadcrumb": "breadcrumb",
                      "label": "label",
                      "dest": "fullLabel"
                    }
                  }
                ],
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "type": "string"
                  },
                  "fullLabel": {
                    "type": "string",
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "xpath_required": true
        },
        "keywordsThemeExtra": {
          "!docstring": "What3",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][not(mri:thesaurusName)]",
          "type": "object",
          "properties": {
            "keywords": {
              "keep": false,
              "xpath": "mri:keyword",
              "type": "array",
              "rules": [{"maxKeywords": {"max-keywords": 12}}],
              "items": {
                "type": "string",
                "keep": "false",
                "xpath": "mri:keyword/gco:CharacterString"
              }
            }
          },
          "xpath_required": true
        },
        "keywordsTaxonExtra": {
          "!docstring": "What4",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"taxon\"]]",
          "type": "object",
          "properties": {
            "keywords": {
              "keep": false,
              "xpath": "mri:keyword",
              "type": "array",
              "rules": [{"maxKeywords": {"max-keywords": 12}}],
              "items": {
                "type": "string",
                "keep": "false",
                "xpath": "mri:keyword/gco:CharacterString"
              }
            }
          },
          "xpath_required": true
        },
        "dataParameters": {
          "type": "array",
          "data_to_xml_skip": true,
          "items": {
            "type": "object",
            "properties": {
              "longName_term": {
                "type": "object",
                "rules": [
                  "requiredField"
                ],
                "properties": {
                  "URI": {
                    "type": "string"
                  },
                  "Name": {
                    "type": "string",
                    "rules": [
                      "requiredField"
                    ]
                  },
                  "isUserDefined": {
                    "type": "boolean"
                  }
                }
              },
              "unit_term": {
                "type": "object",
                "rules": [
                  "requiredField"
                ],
                "properties": {
                  "URI": {
                    "type": "string"
                  },
                  "Name": {
                    "type": "string",
                    "rules": [
                      "requiredField"
                    ]
                  },
                  "isUserDefined": {
                    "type": "boolean"
                  }
                }
              },
              "instrument_term": {
                "type": "object",
                "rules": [
                  {
                    "requiredIfValue": {
                      "value-field": "URI",
                      "dependent-field": "Name"
                    }
                  }
                ],
                "properties": {
                  "URI": {
                    "type": "string"
                  },
                  "Name": {
                    "type": "string"
                  },
                  "isUserDefined": {
                    "type": "boolean"
                  }
                }
              },
              "platform_term": {
                "type": "object",
                "rules": [
                  {
                    "requiredIfValue": {
                      "value-field": "URI",
                      "dependent-field": "Name"
                    }
                  }
                ],
                "properties": {
                  "URI": {
                    "type": "string"
                  },
                  "Name": {
                    "type": "string"
                  },
                  "isUserDefined": {
                    "type": "boolean"
                  }
                }
              },
              "name": {
                "type": "string"
              },
              "uri": {
                "type": "string"
              },
              "isUserDefined": {
                "type": "boolean"
              }
            }
          }
        },
        "creativeCommons": {
          "type": "object",
          "properties": {
            "label": {
              "type": "string"
            },
            "value": {
              "type": "string"
            },
            "other": {
              "type": "boolean"
            }
          },
          "rules": [
            "requiredField"
          ]
        },
        "otherConstraints": {
          "type": "string"
        },
        "useLimitations": {
          "!docstring": "About6",
          "type": "array",
          "xpath": "mri:resourceConstraints/mco:MD_Constraints/mco:useLimitation[position()>1]",
          "keep": false,
          "items": {
            "type": "string",
            "keep": "false",
            "xpath": "mri:resourceConstraints/mco:MD_Constraints/mco:useLimitation[position()>1]",
            "valueChild": "gco:CharacterString"
          }
        },
        "supplementalInformation": {
          "!docstring": "About7",
          "type": "array",
          "export": false,
          "items": {
            "type": "string",
            "rules": [
              "requiredField"
            ]
          }
        },
        "supplementalInformationExport": {
          "!docstring": "About7 - data entered as a list but exported as a concatnated string.  A rule transforms the former into this location",
          "type": "string",
          "keep": false,
          "xpath": "mri:supplementalInformation/gco:CharacterString"
        },
        "supportingResources": {
          "!docstring": "About8",
          "export": false,
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "rules": [
                  "requiredField"
                ]
              },
              "url": {
                "type": "string",
                "rules": [
                  "requiredField",
                  "validURL"
                ]
              }
            }
          }
        },
        "credits": {
          "!docstring": "Who17",
          "keep": false,
          "export": false,
          "type": "array",
          "container": "mco:credit[last()]",
          "items": {
            "type": "string",
            "export": false,
            "keep": false,
            "append": true,
            "valueChild": "gco:CharacterString",
            "rules": [
              "requiredField"
            ]
          }
        }
      }
    },
    "resourceLineage": {
      "xpath": "mdb:resourceLineage/mrl:LI_Lineage",
      "type": "object",
      "properties": {
        "statement": {
          "!docstring": "How1",
          "type": "string",
          "xpath": "mrl:statement",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "rules": [
            "requiredField"
          ]
        }
      }
    },
    "pointOfContact": {
      "xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification[mri:pointOfContact]",
      "container": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:pointOfContact",
      "type": "array",
      "rules": [
        "requiredField"
      ],
      "keep": false,
      "items": {
        "xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:pointOfContact/cit:CI_Responsibility",
        "type": "object",
        "properties": {
          "role": {
            "$ref": "#/$defs/role"
          },
          "organisation": {
            "$ref": "#/$defs/organisation"
          },
          "contact": {
            "$ref": "#/$defs/contact"
          },
          "uri": {},
          "isUserDefined": {
            "!docstring": "Fake node so we can track person status",
            "default": false,
            "export": false
          }
        }
      }
    },
    "distributionInfo": {
      "xpath": "mdb:distributionInfo/mrd:MD_Distribution",
      "type": "object",
      "properties": {
        "distributionFormat": {
          "xpath": "mrd:distributionFormat",
          "type": "object",
          "properties": {
            "title": {
              "!docstring": "About9",
              "xpath": "mrd:MD_Format/mrd:formatSpecificationCitation/cit:CI_Citation/cit:title",
              "keep": false,
              "rules": [
                {
                  "maxLength": 100
                }
              ],
              "valueChild": "gco:CharacterString",
              "type": "string"
            },
            "edition": {
              "!docstring": "About10",
              "xpath": "mrd:MD_Format/mrd:formatSpecificationCitation/cit:CI_Citation/cit:edition",
              "keep": false,
              "rules": [
                {
                  "maxLength": 20
                }
              ],
              "valueChild": "gco:CharacterString",
              "type": "string"
            }
          }
        },
        "transferOptions": {
          "!docstring": "Uses a special handler for export",
          "xpath": "mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine",
          "type": "array",
          "keep": false,
          "export": false,
          "deleteWhenEmpty": false,
          "items": {
            "xpath": "mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine",
            "type": "object",
            "deleteWhenEmpty": false,
            "rules": [
              "imasDataSourceProtocol"
            ],
            "properties": {
              "linkage": {
                "!docstring": "DataSource4",
                "xpath": "cit:CI_OnlineResource/cit:linkage",
                "valueChild": "gco:CharacterString",
                "type": "string",
                "rules": [
                  "requiredField",
                  "validURL"
                ]
              },
              "protocol": {
                "!docstring": "DataSource3",
                "xpath": "cit:CI_OnlineResource/cit:protocol",
                "valueChild": "gco:CharacterString",
                "type": "string",
                "rules": [
                  "requiredField"
                ]
              },
              "name": {
                "!docstring": "DataSource5",
                "xpath": "cit:CI_OnlineResource/cit:name",
                "valueChild": "gco:CharacterString",
                "type": "string",
                "rules": [
                  "requiredField"
                ]
              },
              "description": {
                "!docstring": "DataSource2",
                "xpath": "cit:CI_OnlineResource/cit:description",
                "valueChild": "gco:CharacterString",
                "type": "string",
                "rules": [
                  "requiredField"
                ]
              }
            }
          }
        }
      }
    },
    "attachments": {
      "type": "array",
      "export": false,
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "file": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "delete_url": {
            "type": "string"
          },
          "created": {
            "type": "string"
          },
          "modified": {
            "type": "string"
          }
        }
      }
    },
    "doiRequested": {
      "!docstring": "Fake node so we can pass some additional metadata as payload",
      "type": "boolean",
      "default": false,
      "export": false
    }
  },
  "$defs": {
    "role": {
      "!docstring": "Who1 / Who9",
      "type": "string",
      "xpath": "cit:role/cit:CI_RoleCode",
      "keep": false,
      "xpath_required": true,
      "attributes": {
        "codeListValue": {
          "function": "identity"
        }
      },
      "parser": {
        "function": "parse_codeListValue"
      },
      "rules": [
        "requiredField"
      ]
    },
    "contact": {
      "type": "object",
      "xpath": "cit:party/cit:CI_Organisation/cit:individual",
      "properties": {
        "name": {
          "!docstring": "Who2 / Who10",
          "xpath": "cit:CI_Individual/cit:name",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false,
          "rules": [
            "requiredField",
            "firstCommaLast"
          ]
        },
        "email": {
          "!docstring": "Who7 / Who15",
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:electronicMailAddress",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false,
          "rules": [
            "requiredField"
          ]
        },
        "phone": {
          "!docstring": "Who8 / Who16",
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:phone[cit:CI_Telephone/cit:numberType/cit:CI_TelephoneTypeCode[@codeListValue=\"voice\"]]",
          "type": "string",
          "keep": false,
          "valueChild": "cit:CI_Telephone/cit:number/gco:CharacterString"
        },
        "orcid2": {
          "!docstring": "Who3 / Who11",
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:onlineResource",
          "valueChild": "cit:CI_OnlineResource/cit:linkage/gco:CharacterString",
          "type": "string",
          "keep": false,
          "rules": [
            "validOrcid"
          ]
        },
        "deliveryPoint": {
          "!docstring": "Who6 / Who14",
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:deliveryPoint[1]",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false
        },
        "deliveryPoint2": {
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:deliveryPoint[last()]",
          "type": "string",
          "keep": false,
          "valueChild": "gco:CharacterString"
        },
        "city": {
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:city",
          "type": "string",
          "keep": false,
          "valueChild": "gco:CharacterString"
        },
        "administrativeArea": {
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:administrativeArea",
          "type": "string",
          "keep": false,
          "valueChild": "gco:CharacterString"
        },
        "postalCode": {
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:postalCode",
          "type": "string",
          "keep": false,
          "valueChild": "gco:CharacterString"
        },
        "country": {
          "xpath": "cit:CI_Individual/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:country",
          "type": "string",
          "keep": false,
          "valueChild": "gco:CharacterString"
        },
        "isUserDefined": {}
      }
    },
    "organisation": {
      "xpath": "cit:party/cit:CI_Organisation",
      "type": "object",
      "properties": {
        "name": {
          "!docstring": "Who5 / Who13",
          "xpath": "cit:name",
          "valueChild": "gco:CharacterString",
          "type": "string",
          "keep": false,
          "rules": [
            "requiredField"
          ]
        },
        "isUserDefined": {}
      }
    }
  },
  "export2_xforms": [
    [
      "imasGenerateKeywords",
      {
        "data_path": "identificationInfo.dataParameters",
        "term_key": "longName_term",
        "mount_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-discovery-parameter-vocabulary\"]",
        "template_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-discovery-parameter-vocabulary\"]/mri:keyword"
      }
    ],
    [
      "imasGenerateKeywords",
      {
        "data_path": "identificationInfo.dataParameters",
        "term_key": "platform_term",
        "mount_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-platform-vocabulary\"]",
        "template_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-platform-vocabulary\"]/mri:keyword"
      }
    ],
    [
      "imasGenerateKeywords",
      {
        "data_path": "identificationInfo.dataParameters",
        "term_key": "instrument_term",
        "mount_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-instrument-vocabulary\"]",
        "template_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:descriptiveKeywords/mri:MD_Keywords[mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor/@xlink:href=\"https://metadata.imas.utas.edu.au/geonetwork/srv/eng/thesaurus.download?ref=external.theme.aodn_aodn-instrument-vocabulary\"]/mri:keyword"
      }
    ],
    [
      "imasParameterUnitAttributeGroup",
      {
        "data_path": "identificationInfo.dataParameters",
        "mount_xpath": "/mdb:MD_Metadata/mdb:contentInfo/mrc:MD_CoverageDescription/mrc:attributeGroup/mrc:MD_AttributeGroup",
        "template_xpath": "/mdb:MD_Metadata/mdb:contentInfo/mrc:MD_CoverageDescription/mrc:attributeGroup/mrc:MD_AttributeGroup/mrc:attribute"
      }
    ],
    [
      "imasParameterInstrumentAcquisitionInformation",
      {
        "data_path": "identificationInfo.dataParameters",
        "mount_xpath": "/mdb:MD_Metadata/mdb:acquisitionInformation/mac:MI_AcquisitionInformation",
        "template_xpath": "/mdb:MD_Metadata/mdb:acquisitionInformation/mac:MI_AcquisitionInformation/mac:platform"
      }
    ],
    [
      "imasLegalConstraints",
      {
        "node_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:resourceConstraints[mco:MD_LegalConstraints/mco:graphic]"
      }
    ],
    [
      "imasDigitalTransferOptions",
      {
        "mount_xpath": "/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions",
        "template_xpath": "/mdb:MD_Metadata/mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine"
      },
      [
        [
          "set_text",
          {
            "data_path": "description",
            "node_xpath": "cit:CI_OnlineResource/cit:description/gco:CharacterString"
          }
        ],
        [
          "remove_element",
          {
            "data_path": "description",
            "node_xpath": "cit:CI_OnlineResource/cit:description"
          }
        ],
        [
          "set_text",
          {
            "data_path": "linkage",
            "node_xpath": "cit:CI_OnlineResource/cit:linkage/gco:CharacterString"
          }
        ],
        [
          "remove_element",
          {
            "data_path": "linkage",
            "node_xpath": "cit:CI_OnlineResource/cit:linkage"
          }
        ],
        [
          "set_text",
          {
            "data_path": "protocol",
            "node_xpath": "cit:CI_OnlineResource/cit:protocol/gco:CharacterString"
          }
        ],
        [
          "remove_element",
          {
            "data_path": "protocol",
            "node_xpath": "cit:CI_OnlineResource/cit:protocol"
          }
        ],
        [
          "set_text",
          {
            "data_path": "name",
            "node_xpath": "cit:CI_OnlineResource/cit:name/gco:CharacterString"
          }
        ],
        [
          "remove_element",
          {
            "data_path": "name",
            "node_xpath": "cit:CI_OnlineResource/cit:name"
          }
        ]
      ]
    ],
    [
      "remove_element",
      {
        "data_path": "distributionInfo",
        "node_xpath": "/mdb:MD_Metadata/mdb:distributionInfo"
      }
    ],
    [
      "generateCredits",
      {
        "template_xpath": "/mdb:MD_Metadata/mdb:identificationInfo/mri:MD_DataIdentification/mri:credit[last()]",
        "value_xpath": "gco:CharacterString",
        "data_path": "identificationInfo.credits"
      }
    ]
  ]
}
