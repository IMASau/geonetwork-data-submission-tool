{
  "namespaces": {
    "mdb": "http://standards.iso.org/iso/19115/-3/mdb/2.0",
    "xsi": "http://www.w3.org/2001/XMLSchema-instance",
    "cat": "http://standards.iso.org/iso/19115/-3/cat/1.0",
    "gfc": "http://standards.iso.org/iso/19110/gfc/1.1",
    "cit": "http://standards.iso.org/iso/19115/-3/cit/2.0",
    "gcx": "http://standards.iso.org/iso/19115/-3/gcx/1.0",
    "gex": "http://standards.iso.org/iso/19115/-3/gex/1.0",
    "lan": "http://standards.iso.org/iso/19115/-3/lan/1.0",
    "srv": "http://standards.iso.org/iso/19115/-3/srv/2.0",
    "mas": "http://standards.iso.org/iso/19115/-3/mas/1.0",
    "mcc": "http://standards.iso.org/iso/19115/-3/mcc/1.0",
    "mco": "http://standards.iso.org/iso/19115/-3/mco/1.0",
    "mda": "http://standards.iso.org/iso/19115/-3/mda/2.0",
    "mds": "http://standards.iso.org/iso/19115/-3/mds/2.0",
    "mdt": "http://standards.iso.org/iso/19115/-3/mdt/2.0",
    "mex": "http://standards.iso.org/iso/19115/-3/mex/1.0",
    "mmi": "http://standards.iso.org/iso/19115/-3/mmi/1.0",
    "mpc": "http://standards.iso.org/iso/19115/-3/mpc/1.0",
    "mrc": "http://standards.iso.org/iso/19115/-3/mrc/1.0",
    "mrd": "http://standards.iso.org/iso/19115/-3/mrd/1.0",
    "mri": "http://standards.iso.org/iso/19115/-3/mri/1.0",
    "mrl": "http://standards.iso.org/iso/19115/-3/mrl/2.0",
    "mrs": "http://standards.iso.org/iso/19115/-3/mrs/1.0",
    "msr": "http://standards.iso.org/iso/19115/-3/msr/2.0",
    "mdq": "http://standards.iso.org/iso/19157/-2/mdq/1.0",
    "mac": "http://standards.iso.org/iso/19115/-3/mac/2.0",
    "gco": "http://standards.iso.org/iso/19115/-3/gco/1.0",
    "gml": "http://www.opengis.net/gml/3.2",
    "xlink": "http://www.w3.org/1999/xlink"
  },
  "xpath": "/mdb:MD_Metadata",
  "postprocess": {
    "function": "prune_if_empty"
  },
  "type": "object",
  "properties": {
    "identificationInfo": {
      "xpath": "mdb:identificationInfo/mri:MD_DataIdentification",
      "type": "object",
      "properties": {
        "title": {
          "!docstring": "ID1",
          "xpath": "mri:citation/cit:CI_Citation/cit:title",
          "valueChild": "gco:CharacterString",
          "label": "Title",
          "keep": false,
          "required": true
        },
        "topicCategory": {
          "xpath": "mri:topicCategory",
          "keep": false,
          "valueChild": "mri:MD_TopicCategoryCode",
          "label": "Topic categories",
          "attributes": {
            "text": {
              "function": "identity"
            },
            "codeListValue": {
              "function": "identity"
            }
          },
          "rules": ["requiredField"]
        },
        "dateCreation": {
          "!docstring": "ID6",
          "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"creation\"]]/cit:date",
          "valueChild": "gco:DateTime",
          "required": true
        },
        "datePublication": {
          "!docstring": "ID8",
          "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"publication\"]]/cit:date",
          "valueChild": "gco:DateTime",
          "required": true
        },
        "version": {
          "!docstring": "ID7",
          "xpath": "mri:citation[1]/cit:CI_Citation[1]/cit:edition",
          "valueChild": "gco:CharacterString",
          "label": "Version",
          "keep": false,
          "required": true
        },
        "abstract": {
          "!docstring": "What1",
          "xpath": "mri:abstract",
          "valueChild": "gco:CharacterString",
          "label": "Abstract",
          "keep": false,
          "required": true
        },
        "purpose": {
          "!docstring": "What2",
          "xpath": "mri:purpose",
          "valueChild": "gco:CharacterString",
          "label": "Purpose",
          "keep": false,
          "required": false
        },
        "citedResponsibleParty": {
          "xpath": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty/cit:CI_Responsibility[cit:role/cit:CI_RoleCode[not(@codeListValue=\"publisher\")]]",
          "container": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty[cit:CI_Responsibility/cit:role/cit:CI_RoleCode[not(@codeListValue=\"publisher\")]]",
          "keep": false,
          "type": "array",
          "items": {
            "$ref": "#/$defs/ci_responsible_party_nodes"
          },
          "notes": "Responsible party/ies for creating dataset"
        },
        "geographicElement": {
          "xpath": "mri:extent/gex:EX_Extent[gex:geographicElement][gex:temporalElement]",
          "type": "object",
          "properties": {
            "siteDescription": {
              "!docstring": "Where1",
              "xpath": "gex:description",
              "valueChild": "gco:CharacterString",
              "label": "Site Description",
              "keep": false,
              "required": false
            }
          }
        },
        "keywordsTheme": {
          "!docstring": "What3",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][mri:thesaurusName/cit:CI_Citation/cit:onlineResource/cit:CI_OnlineResource/cit:linkage/gco:CharacterString/text()=\"https://gcmd.earthdata.nasa.gov/kms/concepts/concept_scheme/sciencekeywords\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "keywordsThemeAnzsrc": {
          "!docstring": "What4",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][mri:thesaurusName/cit:CI_Citation/cit:onlineResource/cit:CI_OnlineResource/cit:linkage/gco:CharacterString/text()=\"https://vocabs.ands.org.au/viewById/20\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "keywordsPlatform": {
          "!docstring": "What5",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"platform\"]][mri:thesaurusName/cit:CI_Citation/cit:onlineResource/cit:CI_OnlineResource/cit:linkage/gco:CharacterString/text()=\"https://w3id.org/tern/assets/platforms/\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "keywordsInstrument": {
          "!docstring": "What6",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"instrument\"]][mri:thesaurusName/cit:CI_Citation/cit:onlineResource/cit:CI_OnlineResource/cit:linkage/gco:CharacterString/text()=\"https://w3id.org/tern/assets/sensors/\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "keywordsParameters": {
          "!docstring": "What8",
          "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][mri:thesaurusName/cit:CI_Citation/cit:onlineResource/cit:CI_OnlineResource/cit:linkage/gco:CharacterString/text()=\"http://linked.data.gov.au/def/tern-cv/687472ef-24a1-42b0-b118-358d42957396\"]",
          "type": "object",
          "properties": {
            "keywords": {
              "xpath": "mri:keyword",
              "keep": false,
              "type": "array",
              "items": {
                "type": "object",
                "xpath": "mri:keyword",
                "properties": {
                  "breadcrumb": {},
                  "label": {
                    "xpath": "gcx:Anchor"
                  },
                  "uri": {
                    "xpath": "gcx:Anchor",
                    "attributes": {
                      "xlink:href": {
                        "function": "identity"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "title": {
          "!docstring": "ID1",
          "xpath": "mri:citation/cit:CI_Citation/cit:title",
          "valueChild": "gco:CharacterString",
          "label": "Title",
          "keep": false,
          "required": true
        },
        "beginPosition": {
          "!docstring": "When1",
          "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:beginPosition",
          "required": true,
          "keep": false
        },
        "endPosition": {
          "!docstring": "When2",
          "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:endPosition",
          "deleteWhenEmpty": false,
          "keep": false
        },
        "environment": {
          "!docstring": "About3",
          "xpath": "mri:environmentDescription",
          "valueChild": "gco:CharacterString",
          "label": "Environmental description",
          "keep": false,
          "required": false
        },
        "supplemental": {
          "!docstring": "About4",
          "xpath": "mri:supplementalInformation",
          "valueChild": "gco:CharacterString",
          "label": "Supplemental Information",
          "keep": false,
          "required": false
        },
        "resourceSpecificUsage": {
          "!docstring": "About7",
          "xpath": "mri:resourceSpecificUsage",
          "valueChild": "mri:MD_Usage/mri:specificUsage/gco:CharacterString",
          "label": "Resource specific usage",
          "keep": false,
          "required": false
        },
        "credit": {
          "!docstring": "About8",
          "xpath": "mri:credit",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "required": false
        },
        "customCitation": {
          "!docstring": "About9",
          "xpath": "mri:citation/cit:CI_Citation/cit:otherCitationDetails",
          "valueChild": "gco:CharacterString",
          "label": "Specific citation",
          "keep": false,
          "required": false
        },
        "doi": {
          "!docstring": "Lodge4",
          "xpath": "mri:citation/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code",
          "container": "mri:citation/cit:CI_Citation/cit:identifier",
          "keep": false,
          "valueChild": "gco:CharacterString",
          "attributes": {
            "text": {
              "function": "write_doi"
            }
          }
        }
      }
    },
    "dataQualityInfo": {
      "xpath": "mdb:dataQualityInfo/mdq:DQ_DataQuality",
      "type": "object",
      "properties": {
        "methodSummary": {
          "!docstring": "How8",
          "xpath": "mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:DQ_EvaluationMethod/mdq:evaluationMethodDescription",
          "valueChild": "gco:CharacterString",
          "label": "Provide a summary of the scope of the Data Quality Assessment",
          "keep": false,
          "required": false
        },
        "results": {
          "!docstring": "How12",
          "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:result/mdq:DQ_DescriptiveResult/mdq:statement/gco:CharacterString",
          "keep": false,
          "required": false
        },
        "methods": {
          "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:standaloneQualityReportDetails",
          "keep": false,
          "valueChild": "gco:CharacterString",
          "required": false
        }
      }
    }
  },
  "$defs": {
    "ci_responsible_party_nodes": {
      "xpath": ".",
      "type": "object",
      "properties": {
        "organisationName": {
          "xpath": "cit:party/cit:CI_Organisation/cit:name",
          "valueChild": "gcx:Anchor",
          "required": true,
          "keep": false,
          "attributes": {
            "text": {
              "function": "identity"
            }
          }
        },
        "organisationIdentifier": {
          "xpath": "cit:party/cit:CI_Organisation/cit:name/gcx:Anchor",
          "required": false,
          "keep": false,
          "parser": {
            "function": "parse_organisation_identifier"
          },
          "attributes": {
            "xlink:href": {
              "function": "separate_organisation_identifier"
            }
          }
        },
        "role": {
          "xpath": "cit:role/cit:CI_RoleCode",
          "keep": false,
          "attributes": {
            "codeListValue": {
              "function": "identity"
            }
          },
          "parser": {
            "function": "parse_codeListValue"
          },
          "required": true
        },
        "address": {
          "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address",
          "type": "object",
          "properties": {
            "deliveryPoint": {
              "xpath": "cit:deliveryPoint[1]",
              "keep": false,
              "valueChild": "gco:CharacterString"
            },
            "deliveryPoint2": {
              "xpath": "cit:deliveryPoint[2]",
              "keep": false,
              "valueChild": "gco:CharacterString"
            },
            "city": {
              "xpath": "cit:city",
              "keep": false,
              "valueChild": "gco:CharacterString"
            },
            "administrativeArea": {
              "xpath": "cit:administrativeArea",
              "keep": false,
              "valueChild": "gco:CharacterString"
            },
            "postalCode": {
              "xpath": "cit:postalCode",
              "keep": false,
              "valueChild": "gco:CharacterString"
            },
            "country": {
              "xpath": "cit:country",
              "keep": false,
              "valueChild": "gco:CharacterString"
            }
          }
        },
        "electronicMailAddress": {
          "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:electronicMailAddress",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "required": false
        },
        "phone": {
          "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone/cit:CI_Telephone[cit:numberType/cit:CI_TelephoneTypeCode[@codeListValue=\"voice\"]]/cit:number",
          "valueChild": "gco:CharacterString",
          "keep": false,
          "required": false
        },
        "facsimile": {
          "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone/cit:CI_Telephone[cit:numberType/cit:CI_TelephoneTypeCode[@codeListValue=\"facsimile\"]]/cit:number",
          "container": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone",
          "keep": false,
          "valueChild": "gco:CharacterString",
          "required": false
        },
        "individualName": {
          "valueChild": "gcx:Anchor",
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
          "keep": false,
          "required": false
        },
        "familyName": {
          "valueChild": "gcx:Anchor",
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
          "keep": false,
          "export": false
        },
        "givenName": {
          "valueChild": "gcx:Anchor",
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
          "keep": false,
          "export": false
        },
        "uri": {
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor[@xlink:role=\"uri\"]",
          "keep": false,
          "required": false,
          "deleteWhenEmpty": false,
          "export": false,
          "parser": {
            "function": "parse_individual_identifier"
          }
        },
        "orcid": {
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor[@xlink:role=\"orcid\"]",
          "required": false,
          "keep": false,
          "export": false,
          "parser": {
            "function": "parse_individual_orcid"
          },
          "exportTo": {
            "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor",
            "attributes": {
              "xlink:href": {
                "function": "write_orcid"
              },
              "xlink:role": {
                "function": "write_orcid_role"
              }
            }
          }
        },
        "positionName": {
          "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:positionName",
          "keep": false,
          "valueChild": "gco:CharacterString",
          "required": false
        },
        "isUserAdded": {
          "!docstring": "Fake node so we can track person status",
          "xpath": "isUserAdded",
          "default": false,
          "export": false
        }
      }
    }
  }
}
