{
    "spec": {
        "namespaces": {
                 "mdb": "http://standards.iso.org/iso/19115/-3/mdb/1.0",
                 "xsi": "http://www.w3.org/2001/XMLSchema-instance",
                 "cat": "http://standards.iso.org/iso/19115/-3/cat/1.0",
                 "gfc": "http://standards.iso.org/iso/19110/gfc/1.1",
                 "cit": "http://standards.iso.org/iso/19115/-3/cit/1.0",
                 "gcx": "http://standards.iso.org/iso/19115/-3/gcx/1.0",
                 "gex": "http://standards.iso.org/iso/19115/-3/gex/1.0",
                 "lan": "http://standards.iso.org/iso/19115/-3/lan/1.0",
                 "srv": "http://standards.iso.org/iso/19115/-3/srv/2.0",
                 "mas": "http://standards.iso.org/iso/19115/-3/mas/1.0",
                 "mcc": "http://standards.iso.org/iso/19115/-3/mcc/1.0",
                 "mco": "http://standards.iso.org/iso/19115/-3/mco/1.0",
                 "mda": "http://standards.iso.org/iso/19115/-3/mda/1.0",
                 "mds": "http://standards.iso.org/iso/19115/-3/mds/1.0",
                 "mdt": "http://standards.iso.org/iso/19115/-3/mdt/1.0",
                 "mex": "http://standards.iso.org/iso/19115/-3/mex/1.0",
                 "mmi": "http://standards.iso.org/iso/19115/-3/mmi/1.0",
                 "mpc": "http://standards.iso.org/iso/19115/-3/mpc/1.0",
                 "mrc": "http://standards.iso.org/iso/19115/-3/mrc/1.0",
                 "mrd": "http://standards.iso.org/iso/19115/-3/mrd/1.0",
                 "mri": "http://standards.iso.org/iso/19115/-3/mri/1.0",
                 "mrl": "http://standards.iso.org/iso/19115/-3/mrl/1.0",
                 "mrs": "http://standards.iso.org/iso/19115/-3/mrs/1.0",
                 "msr": "http://standards.iso.org/iso/19115/-3/msr/1.0",
                 "mdq": "http://standards.iso.org/iso/19157/-2/mdq/1.0",
                 "mac": "http://standards.iso.org/iso/19115/-3/mac/1.0",
                 "gco": "http://standards.iso.org/iso/19115/-3/gco/1.0",
                 "gml": "http://www.opengis.net/gml/3.2",
                 "xlink": "http://www.w3.org/1999/xlink"
        },
        "xpath": "/mdb:MD_Metadata",
        "postprocess": {
            "function": "prune_if_empty"
        },
        "nodes": {
            "fileIdentifier": {
                "xpath": "mdb:metadataIdentifier/mcc:MD_Identifier/mcc:code",
                "valueChild": "gco:CharacterString",
                "exportTo": {
                    "xpath": "mdb:metadataLinkage/cit:CI_OnlineResource/cit:linkage/gco:CharacterString",
                    "attributes": {
                        "text": {
                            "function": "geonetwork_url"
                        }
                    }
                }
            },
            "attachments": {
                "many": true,
                "xpath": "mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine[cit:CI_OnlineResource[cit:protocol/gco:CharacterString/text()=\"WWW:DOWNLOAD-1.0-http--download\"][cit:description/gco:CharacterString/text()=\"Data file\"]]",
                "keep": false,
                "nodes": {
                    "file": {
                        "xpath": "cit:CI_OnlineResource/cit:linkage/gco:CharacterString",
                        "required": true,
                        "attributes": {
                            "text": {
                                "function": "generate_attachment_url"
                            }
                        }
                    },
                    "name": {
                        "xpath": "cit:CI_OnlineResource/cit:name",
                        "required": false,
                        "valueChild": "gco:CharacterString"
                    }
                }
            },
            "distributionInfo": {
                "xpath": "mdb:distributionInfo/mrd:MD_Distribution",
                "nodes": {
                    "distributionFormat": {
                        "xpath": "mrd:distributionFormat/mrd:MD_Format/mrd:formatSpecificationCitation/cit:CI_Citation",
                        "nodes": {
                            "name": {
                                "xpath": "cit:title",
                                "valueChild": "gco:CharacterString",
                                "deleteWhenEmpty": false
                            },
                            "version": {
                                "xpath": "cit:edition",
                                "valueChild": "gco:CharacterString"
                            }
                        }
                    }
                }
            },
            "dataSources": {
                "many": true,
                "xpath": "mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine[cit:CI_OnlineResource/cit:protocol/gco:CharacterString/text()!=\"WWW:LINK-1.0-http--link\" and not(cit:CI_OnlineResource/cit:protocol/gco:CharacterString/text()=\"WWW:DOWNLOAD-1.0-http--download\" and cit:CI_OnlineResource/cit:description/gco:CharacterString/text()=\"Data file\")]",
                "keep": false,
                "nodes": {
                    "description": {
                        "label": "Description",
                        "xpath": "cit:CI_OnlineResource/cit:description",
                        "valueChild": "gco:CharacterString",
                        "required": true
                    },
                    "url": {
                        "xpath": "cit:CI_OnlineResource/cit:linkage",
                        "valueChild": "gco:CharacterString",
                        "required": true
                    },
                    "name": {
                        "xpath": "cit:CI_OnlineResource/cit:name",
                        "valueChild": "gco:CharacterString",
                        "required": false
                    },
                    "protocol": {
                        "xpath": "cit:CI_OnlineResource/cit:protocol",
                        "valueChild": "gco:CharacterString",
                        "required": true
                    }
                }
            },
            "supportingResources": {
                "many": true,
                "xpath": "mdb:distributionInfo/mrd:MD_Distribution/mrd:transferOptions/mrd:MD_DigitalTransferOptions/mrd:onLine[cit:CI_OnlineResource/cit:protocol/gco:CharacterString/text()=\"WWW:LINK-1.0-http--link\"]",
                "keep": false,
                "nodes": {
                    "name": {
                        "xpath": "cit:CI_OnlineResource/cit:name",
                        "valueChild": "gco:CharacterString",
                        "required": true
                    },
                    "url": {
                        "xpath": "cit:CI_OnlineResource/cit:linkage",
                        "valueChild": "gco:CharacterString",
                        "required": true
                    }
                }
            },
            "dataQualityInfo": {
                "xpath": "mdb:dataQualityInfo",
                "nodes": {
                    "results": {
                        "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:result/mdq:DQ_DescriptiveResult/mdq:statement/gco:CharacterString",
                        "keep": false,
                        "required": false
                    },
                    "methods": {
                        "xpath": "mdq:DQ_DataQuality[mdq:scope/mcc:MD_Scope/mcc:level/mcc:MD_ScopeCode[@codeListValue=\"dataset\"]]/mdq:report/mdq:DQ_QuantitativeAttributeAccuracy/mdq:standaloneQualityReportDetails",
                        "keep": false,
                        "valueChild": "gco:CharacterString",
                        "required": false
                    }
                }
            },
            "identificationInfo": {
                "xpath": "mdb:identificationInfo/mri:MD_DataIdentification",
                "nodes": {
                    "title": {
                        "xpath": "mri:citation/cit:CI_Citation/cit:title",
                        "valueChild": "gco:CharacterString",
                        "label": "Title",
                        "keep": false,
                        "required": true
                    },
                    "doi": {
                        "xpath": "mri:citation/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code",
                        "container": "mri:citation/cit:CI_Citation/cit:identifier",
                        "keep": false,
                        "valueChild": "gco:CharacterString",
                        "attributes": {
                            "text": {
                                "function": "write_doi"
                            }
                        }
                    },
                    "dateCreation": {
                        "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"creation\"]]/cit:date",
                        "valueChild": "gco:DateTime",
                        "required": true,
                        "default": {
                            "function": "today"
                        }
                    },
                    "datePublication": {
                        "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"publication\"]]/cit:date",
                        "valueChild": "gco:DateTime",
                        "required": true,
                        "default": {
                            "function": "today"
                        }
                    },
                    "dateRevision": {
                        "xpath": "mri:citation/cit:CI_Citation/cit:date/cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"revision\"]]/cit:date",
                        "valueChild": "gco:DateTime",
                        "container": "mri:citation/cit:CI_Citation/cit:date[cit:CI_Date[cit:dateType/cit:CI_DateTypeCode[@codeListValue=\"revision\"]]]",
                        "keep": false,
                        "required": true,
                        "deleteWhenEmpty": false,
                        "default": {
                            "function": "today"
                        }
                    },
                    "citedResponsibleParty": {
                        "many": true,
                        "xpath": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty/cit:CI_Responsibility[cit:role/cit:CI_RoleCode[not(@codeListValue=\"publisher\")]]",
                        "container": "mri:citation/cit:CI_Citation/cit:citedResponsibleParty[cit:CI_Responsibility/cit:role/cit:CI_RoleCode[not(@codeListValue=\"publisher\")]]",
                        "keep": false,
                        "nodes": "ci_responsible_party_nodes",
                        "notes": "Responsible party/ies for creating dataset"
                    },
                    "topicCategory": {
                        "many": true,
                        "xpath": "mri:topicCategory",
                        "keep": false,
                        "valueChild": "mri:MD_TopicCategoryCode",
                        "required": true
                    },
                    "status": {
                        "xpath": "mri:status",
                        "valueChild": "mcc:MD_ProgressCode",
                        "attributes": {
                            "text": {
                                "function": "identity"
                            },
                            "codeListValue": {
                                "function": "identity"
                            }
                        },
                        "notes": "Status of data",
                        "required": true
                    },
                    "maintenanceAndUpdateFrequency": {
                        "xpath": "mri:resourceMaintenance/mmi:MD_MaintenanceInformation/mmi:maintenanceAndUpdateFrequency",
                        "valueChild": "mmi:MD_MaintenanceFrequencyCode",
                        "attributes": {
                            "text": {
                                "function": "identity"
                            },
                            "codeListValue": {
                                "function": "identity"
                            }
                        },
                        "!docstring": "\"required\": true,  // FIXME depends on status"
                    },
                    "abstract": {
                        "xpath": "mri:abstract",
                        "valueChild": "gco:CharacterString",
                        "label": "Abstract",
                        "keep": false,
                        "required": true
                    },
                    "purpose": {
                        "xpath": "mri:purpose",
                        "valueChild": "gco:CharacterString",
                        "label": "Purpose",
                        "keep": false,
                        "required": false
                    },
                    "beginPosition": {
                        "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:beginPosition",
                        "required": true,
                        "keep": false,
                        "attributes": {
                            "text": {
                                "function": "date_as_string"
                            }
                        }
                    },
                    "endPosition": {
                        "xpath": "mri:extent/gex:EX_Extent/gex:temporalElement/gex:EX_TemporalExtent/gex:extent/gml:TimePeriod/gml:endPosition",
                        "!docstring": "'required': true,  // FIXME depends on status",
                        "deleteWhenEmpty": false,
                        "keep": false,
                        "attributes": {
                            "text": {
                                "function": "date_as_string"
                            }
                        }
                    },
                    "horizontalResolution": {
                        "xpath": "mri:spatialResolution/mri:MD_Resolution/mri:levelOfDetail",
                        "valueChild": "gcx:Anchor",
                        "container": "mri:spatialResolution",
                        "keep": false,
                        "many": true,
                        "attributes": {
                            "text": {
                                "function": "sampling_text"
                            },
                            "xlink:href": {
                                "function": "sampling_uri"
                            }
                        }
                        
                    },
                    "geographicElement": {
                        "xpath": "mri:extent/gex:EX_Extent[gex:geographicElement][gex:temporalElement]",
                        "removeWhen": {
                            "function": "has_geographic_coverage"
                        },
                        "nodes": {
                            "siteDescription": {
                                "xpath": "gex:description",
                                "valueChild": "gco:CharacterString",
                                "keep": false
                            },
                            "hasGeographicCoverage": {
                                "xpath": "gex:geographicElement[count(.)>0]",
                                "export": false
                            },
                            "boxes": {
                                "many": true,
                                "xpath": "gex:geographicElement/gex:EX_GeographicBoundingBox",
                                "required": true,
                                "keep": false,
                                "nodes": {
                                    "westBoundLongitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:westBoundLongitude",
                                        "required": true,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "eastBoundLongitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:eastBoundLongitude",
                                        "required": true,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "southBoundLatitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:southBoundLatitude",
                                        "required": true,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "northBoundLatitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:northBoundLatitude",
                                        "required": true,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "geographicElementSecondary": {
                        "xpath": "mri:extent[gex:EX_Extent[gex:geographicElement][not(gex:temporalElement)]]",
                        "many": true,
                        "keep": false,
                        "nodes": {
                            "boxes": {
                                "xpath": "gex:EX_Extent/gex:geographicElement/gex:EX_GeographicBoundingBox",
                                "required": false,
                                "keep": false,
                                "nodes": {
                                    "westBoundLongitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:westBoundLongitude",
                                        "required": false,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "eastBoundLongitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:eastBoundLongitude",
                                        "required": false,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "southBoundLatitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:southBoundLatitude",
                                        "required": false,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    },
                                    "northBoundLatitude": {
                                        "valueChild": "gco:Decimal",
                                        "xpath": "gex:northBoundLatitude",
                                        "required": false,
                                        "attributes": {
                                            "text": {
                                                "function": "to_string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "verticalElement": {
                        "xpath": "mri:extent/gex:EX_Extent[@id=\"Vertical\"]",
                        "container": "mri:extent[gex:EX_Extent[@id=\"Vertical\"]]",
                        "removeWhen": {
                            "function": "has_vertical_extent"
                        },
                        "nodes": {
                            "hasVerticalExtent": {
                                "xpath": "count(.)>0",
                                "export": false,
                                "default": false
                            },
                            "elevation": {
                                "xpath": "gex:description/gco:CharacterString",
                                "parser": {
                                  "function": "parse_vertical_elevation"
                                },
                                "required": false
                            },
                            "method": {
                                "xpath": "gex:description/gco:CharacterString",
                                "parser": {
                                    "function": "parse_vertical_method"
                                },
                                "required": false
                            },
                            "minimumValue": {
                                "valueChild": "gco:Real",
                                "xpath": "gex:verticalElement/gex:EX_VerticalExtent/gex:minimumValue",
                                "required": true
                            },
                            "maximumValue": {
                                "valueChild": "gco:Real",
                                "xpath": "gex:verticalElement/gex:EX_VerticalExtent/gex:maximumValue",
                                "required": true
                            }
                        }
                    },
                    "credit": {
                        "many": true,
                        "xpath": "mri:credit",
                        "valueChild": "gco:CharacterString",
                        "notes": "Other credits ",
                        "keep": false
                    },
                    "pointOfContact": {
                        "many": true,
                        "xpath": "mri:pointOfContact/cit:CI_Responsibility",
                        "container": "mri:pointOfContact",
                        "nodes": "ci_responsible_party_nodes"
                    },
                    "supplementalInformation": {
                        "many": true,
                        "valueChild": "gco:CharacterString",
                        "xpath": "mri:supplementalInformation",
                        "keep": false
                    },
                    "keywordsTheme": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[not(@uuid=\"Data_Group\")][mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor[@xlink:href=\"https://vocabs.ands.org.au/viewById/238\"]]",
                        "nodes": {
                            "keywords": {
                                "xpath": "mri:keyword/gcx:Anchor",
                                "many": true,
                                "container": "mri:keyword",
                                "keep": false,
                                "export": false,
                                "exportTo": {
                                    "xpath": "mri:keyword/gcx:Anchor",
                                    "attributes": {
                                        "text": {
                                            "function": "science_keyword_name"
                                        },
                                        "xlink:href": {
                                            "function": "science_keyword_uri"
                                        }
                                    }
                                },
                                "parser": {
                                    "function": "parse_keywords"
                                }
                            }
                        },
                        "required": true,
                        "notes": "Theme keywords (selecting from controlled list in thesaurus)"
                    },
                    "keywordsThemeAnzsrc": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[not(@uuid=\"Data_Group\")][mri:type/mri:MD_KeywordTypeCode[@codeListValue=\"theme\"]][mri:thesaurusName/cit:CI_Citation/cit:identifier/mcc:MD_Identifier/mcc:code/gcx:Anchor[@xlink:href=\"https://vocabs.ands.org.au/viewById/20\"]]",
                        "nodes": {
                            "keywords": {
                                "xpath": "mri:keyword/gcx:Anchor",
                                "many": true,
                                "container": "mri:keyword",
                                "keep": false,
                                "export": false,
                                "exportTo": {
                                    "xpath": "mri:keyword/gcx:Anchor",
                                    "attributes": {
                                        "text": {
                                            "function": "anzsrc_keyword_name"
                                        },
                                        "xlink:href": {
                                            "function": "anzsrc_uri"
                                        }
                                    }
                                },
                                "parser": {
                                    "function": "parse_keywords"
                                }
                            }
                        },
                        "notes": "Theme keywords (selecting from controlled list in thesaurus)"
                    },
                    "keywordsThemeExtra": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[@uuid=\"local\"]",
                        "nodes": {
                            "keywords": {
                                "xpath": "mri:keyword/gco:CharacterString",
                                "many": true,
                                "container": "mri:keyword",
                                "keep": false,
                                "export": false,
                                "exportTo": {
                                    "xpath": "mri:keyword/gco:CharacterString"
                                }
                            }
                        },
                        "notes": "Additional theme keywords"
                    },
                    "keywordsTaxonExtra": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[@uuid=\"Taxon\"]",
                        "nodes": {
                            "keywords": {
                                "xpath": "mri:keyword/gco:CharacterString",
                                "many": true,
                                "container": "mri:keyword",
                                "keep": false,
                                "export": false,
                                "exportTo": {
                                    "xpath": "mri:keyword/gco:CharacterString"
                                }
                            }
                        },
                        "notes": "Additional theme keywords"
                    },
                    "samplingFrequency": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords/mri:keyword/gcx:Anchor[@xlink:title=\"GCMDTemporal\"]",
                        "keep": false,
                        "many": true,
                        "container": "mri:descriptiveKeywords[mri:MD_Keywords/mri:keyword/gcx:Anchor[@xlink:title=\"GCMDTemporal\"]]",
                        "attributes": {
                            "text": {
                                "function": "sampling_text"
                            },
                            "xlink:href": {
                                "function": "sampling_uri"
                            }
                        }
                    },
                    "dataParameters": {
                        "xpath": "mri:descriptiveKeywords/mri:MD_Keywords[@uuid=\"Data_Group\"]",
                        "container": "mri:descriptiveKeywords[mri:MD_Keywords[@uuid=\"Data_Group\"]]",
                        "many": true,
                        "keep": false,
                        "nodes": {
                            "serialNumber": {
                                "xpath": "mri:keyword/gcx:Anchor[@xlink:title=\"Instrument_ID\"]"
                            },
                            "unit_term": {
                                "xpath": "mri:keyword[gcx:Anchor[@xlink:title=\"UOM\"]]",
                                "valueChild": "gcx:Anchor"
                            },
                            "unit_vocabularyTermURL": {
                                "xpath": "mri:keyword/gcx:Anchor[@xlink:title=\"UOM\"]",
                                "attributes": {
                                    "xlink:href": {
                                        "function": "identity"
                                    }
                                }
                            },
                            "longName_term": {
                                "xpath": "mri:keyword[gcx:Anchor[@xlink:title=\"Parameter\"]]",
                                "valueChild": "gcx:Anchor"
                            },
                            "longName_vocabularyTermURL": {
                                "xpath": "mri:keyword/gcx:Anchor[@xlink:title=\"Parameter\"]",
                                "attributes": {
                                    "xlink:href": {
                                        "function": "identity"
                                    }
                                }
                            },
                            "platform_term": {
                                "xpath": "mri:keyword[gcx:Anchor[@xlink:title=\"Platform\"]]",
                                "valueChild": "gcx:Anchor"
                            },
                            "platform_vocabularyTermURL": {
                                "xpath": "mri:keyword/gcx:Anchor[@xlink:title=\"Platform\"]",
                                "attributes": {
                                    "xlink:href": {
                                        "function": "identity"
                                    }
                                }
                            },
                            "instrument_term": {
                                "xpath": "mri:keyword[gcx:Anchor[@xlink:title=\"Instrument\"]]",
                                "valueChild": "gcx:Anchor"
                            },
                            "instrument_vocabularyTermURL": {
                                "xpath": "mri:keyword/gcx:Anchor[@xlink:title=\"Instrument\"]",
                                "attributes": {
                                    "xlink:href": {
                                        "function": "identity"
                                    }
                                }
                            }
                        }
                    },
                    "useLimitations": {
                        "xpath": "mri:resourceConstraints/mco:MD_LegalConstraints/mco:otherConstraints",
                        "valueChild": "gco:CharacterString",
                        "many": true,
                        "keep": false,
                        "exportTo": {
                            "xpath": "mri:resourceConstraints/mco:MD_LegalConstraints/mco:useConstraints/mco:MD_RestrictionCode",
                            "attributes": {
                                "codeListValue": {
                                    "function": "write_constraints"
                                }
                            }
                        }
                    }
                }
            },
            "resourceLineage": {
                "xpath": "mdb:resourceLineage/mrl:LI_Lineage",
                "nodes": {
                    "lineage": {
                            "xpath": "mrl:statement",
                            "valueChild": "gco:CharacterString",
                            "label": "Lineage",
                            "keep": false,
                            "required": false
                    },
                    "processStep": {
                        "xpath": "mrl:processStep/mrl:LE_ProcessStep",
                        "container": "mrl:processStep",
                        "many": true,
                        "keep": false,
                        "nodes": {
                            "description": {
                                "xpath": "mrl:description",
                                "valueChild": "gco:CharacterString",
                                "keep": false
                            },
                            "name": {
                                "xpath": "mrl:reference/cit:CI_Citation/cit:title",
                                "valueChild": "gcx:Anchor"
                            },
                            "uri": {
                                "xpath": "mrl:reference/cit:CI_Citation/cit:title/gcx:Anchor",
                                "keep": false,
                                "attributes": {
                                    "xlink:href": {
                                        "function": "identity"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "noteForDataManager": {
                "!docstring": "Fake node so we can pass some additional metadata as payload",
                "xpath": "noteForDataManager",
                "default": "",
                "export": false
            },
            "agreedToTerms": {
                "!docstring": "Fake node so we can pass some additional metadata as payload",
                "xpath": "agreedToTerms",
                "default": false,
                "export": false
            },
            "doiRequested": {
                "!docstring": "Fake node so we can pass some additional metadata as payload",
                "xpath": "doiRequested",
                "default": false,
                "export": false
            }
        }
    },
    "node_groups": {
        "data_parameter_term_nodes": {
            "term": {
                "xpath": "mcp:term"
            },
            "vocabularyTermURL": {
                "xpath": "mcp:vocabularyTermURL"
            },
            "vocabularyVersion": {
                "xpath": "mcp:vocabularyVersion",
                "attributes": {
                    "text": {
                        "function": "massage_version_number"
                    }
                }
            },
            "termDefinition": {
                "xpath": "mcp:termDefinition"
            }
        },
        "ci_responsible_party_nodes": {
            
            "organisationName": {
                "xpath": "cit:party/cit:CI_Organisation/cit:name",
                "valueChild": "gcx:Anchor",
                "required": true,
                "keep": false,
                "attributes": {
                    "text": {
                        "function": "identity"
                    }
                }
            },
            "organisationIdentifier": {
                "xpath": "cit:party/cit:CI_Organisation/cit:name/gcx:Anchor",
                "required": false,
                "keep": false,
                "parser": {
                    "function": "parse_organisation_identifier"
                },
                "attributes": {
                    "xlink:href": {
                        "function": "separate_organisation_identifier"
                    }
                }
            },
            "role": {
                "xpath": "cit:role/cit:CI_RoleCode",
                "keep": false,
                "attributes": {
                    "codeListValue": {
                        "function": "identity"
                    }
                },
                "parser": {
                    "function": "parse_codeListValue"
                },
                "required": true
            },
            "address": {
                "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address",
                "nodes": {
                    "deliveryPoint": {
                        "xpath": "cit:deliveryPoint[1]",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    },
                    "deliveryPoint2": {
                        "xpath": "cit:deliveryPoint[2]",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    },
                    "city": {
                        "xpath": "cit:city",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    },
                    "administrativeArea": {
                        "xpath": "cit:administrativeArea",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    },
                    "postalCode": {
                        "xpath": "cit:postalCode",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    },
                    "country": {
                        "xpath": "cit:country",
                        "keep": false,
                        "valueChild": "gco:CharacterString"
                    }
                }
            },
            "electronicMailAddress": {
                "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:address/cit:CI_Address/cit:electronicMailAddress",
                "valueChild": "gco:CharacterString",
                "keep": false,
                "required": false
            },
            "phone": {
                "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone/cit:CI_Telephone[cit:numberType/cit:CI_TelephoneTypeCode[@codeListValue=\"voice\"]]/cit:number",
                "valueChild": "gco:CharacterString",
                "keep": false,
                "required": false
            },
            "facsimile": {
                "xpath": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone/cit:CI_Telephone[cit:numberType/cit:CI_TelephoneTypeCode[@codeListValue=\"facsimile\"]]/cit:number",
                "container": "cit:party/cit:CI_Organisation/cit:contactInfo/cit:CI_Contact/cit:phone",
                "keep": false,
                "valueChild": "gco:CharacterString",
                "required": false
            },
            "individualName": {
                "valueChild": "gcx:Anchor",
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
                "keep": false,
                "required": false
            },
            "familyName": {
                "valueChild": "gcx:Anchor",
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
                "keep": false,
                "export": false
            },
            "givenName": {
                "valueChild": "gcx:Anchor",
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name",
                "keep": false,
                "export": false
            },
            "uri": {
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor[@xlink:role=\"uri\"]",
                "keep": false,
                "required": false,
                "deleteWhenEmpty": false,
                "export": false,
                "parser": {
                    "function": "parse_individual_identifier"
                }
            },
            "orcid": {
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor[@xlink:role=\"orcid\"]",
                "required": false,
                "keep": false,
                "export": false,
                "parser": {
                    "function": "parse_individual_orcid"
                },
                "exportTo": {
                    "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:name/gcx:Anchor",
                    "attributes": {
                        "xlink:href": {
                            "function": "write_orcid"
                        },
                        "xlink:role": {
                            "function": "write_orcid_role"
                        }
                    }
                }
            },
            "positionName": {
                "xpath": "cit:party/cit:CI_Organisation/cit:individual/cit:CI_Individual/cit:positionName",
                "keep": false,
                "valueChild": "gco:CharacterString",
                "required": false
            },
            "isUserAdded": {
                "!docstring": "Fake node so we can track person status",
                "xpath": "isUserAdded",
                "default": false,
                "export": false
            }
        }
    }
}
